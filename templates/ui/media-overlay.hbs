<media-overlay>
    <section>
        {{!-- Settings --}}
        <div class="{{~ifThen rightToLeft 'right' 'left'}} drawer">
            <button class="small plain icon {{icons.settings}}" data-tooltip="share-media.ui.settings.label"
                data-tooltip-direction="{{~ifThen rightToLeft 'RIGHT' 'LEFT'}}" keep-hover></button>
            <aside>
                <menu class="{{~ifThen rightToLeft 'right' 'left'}}">
                    {{!-- Generate menu based on available media settings --}}
                    {{~#each mediaSettings as |setting|}}
                        {{~#if setting.isVisible}}
                            <li>
                                {{localize (concat "share-media.ui.settings." setting.label)}}
                                <menu>
                                    {{~#each setting.options as |option|}}
                                        <li role="button" {{~#if option.value}} class="active" {{~/if}}
                                            data-action="configureSetting"
                                            data-category="{{setting.category}}"
                                            data-setting="{{option.name}}"
                                            data-tooltip="{{localize (concat "share-media.ui.settings." option.description)}}"
                                            data-tooltip-direction="{{~ifThen @root.rightToLeft 'LEFT' 'RIGHT'}}">
                                            <i class="{{lookup @root.icons option.name}}"></i>
                                            {{localize (concat "share-media.ui.settings." option.label)}}
                                        </li>
                                    {{~/each}}
                                </menu>
                            </li>
                        {{~/if}}
                    {{~/each}}
                </menu>
            </aside>
        </div>


        {{!-- Actions --}}
        {{~#each mediaActions as |mode|}}
            <div class="{{~ifThen @root.rightToLeft 'right' 'left'}} drawer">
                {{!-- Generate actions based on available media actions --}}
                {{~#each mode as |action|}}
                    <button class="small icon {{lookup @root.icons action.icon}}"
                        data-action="share" data-mode="{{action.mode}}"
                        data-option-name="{{action.optionName}}" data-option-value="{{action.optionValue}}"
                        data-tooltip="{{localize (concat "share-media.ui.actions." action.label)}}"
                        data-tooltip-direction="{{~ifThen (eq @root.rightToLeft @first) "RIGHT" "LEFT"}}">
                    </button>
                    <!-- format-ignore -->
                    {{~#if @first}}<aside>{{~/if}}
                    {{~#if @last}}</aside>{{~/if}}
                {{~/each}}
            </div>
        {{~/each}}
    </section>
</media-overlay>
