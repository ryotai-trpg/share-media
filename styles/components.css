@layer shm.components {
  /* -------------------------------------------- */
  /*  Form fields
  /* -------------------------------------------- */
  .shm.form-fields:has(input[type="checkbox"]) {
    flex: 0;
  }

  /* -------------------------------------------- */
  /*  Tooltips
  /* -------------------------------------------- */

  .shm#tooltip.text-center {
    text-align: center;
  }

  /* -------------------------------------------- */
  /*  Button
  /* -------------------------------------------- */

  .shm button,
  button.shm,
  .shm .button,
  .button.shm {
    /*  CSS variables  */
    --shm-button-size: 2.5rem;

    /*  Reset CSS  */
    box-sizing: border-box;
    text-align: left;
    text-decoration: none;
    margin: 0;
    outline: none;
    appearance: none;
    opacity: 1;

    /*  Actual properties  */
    cursor: var(--cursor-pointer);

    display: block flex;
    justify-content: center;
    align-items: center;

    height: var(--shm-button-size);
    min-height: var(--shm-button-size);

    gap: 0.25rem;
    padding: 0 2rem;

    font-family: var(--font-sans);
    font-size: var(--font-size-14);
    line-height: normal;

    color: light-dark(rgba(var(--shm-charcoal) / 1), rgba(var(--shm-cream) / 1));
    background-color: light-dark(rgba(var(--shm-white) / 0.6), rgba(var(--shm-purple) / 0.5));
    border: 1px solid light-dark(rgba(var(--shm-gray) / 1), rgba(var(--shm-warm-gray) / 1));
    border-radius: 4px;

    transition: all 0.5s ease;

    /*  Variants  */
    &.small {
      --shm-button-size: 1.75rem;
    }

    &.tiny {
      --shm-button-size: 1.5rem;
      font-size: var(--font-size-12);
    }

    &.icon {
      flex: 0 0 var(--shm-button-size);
      width: var(--shm-button-size);
      padding: 0 0.5rem;
      font-family: var(--font-awesome);
    }

    &.plain {
      text-shadow: 0 0 4px rgba(0 0 0 / 1);

      height: calc(var(--shm-button-size) / 2);
      min-height: calc(var(--shm-button-size) / 2);

      background-color: transparent;
      border-color: transparent;
      color: light-dark(rgba(var(--shm-cream) / 1), rgba(var(--shm-cream) / 1));

      &:hover {
        text-shadow: unset;
      }
    }

    &.secondary {
      color: light-dark(rgba(var(--shm-charcoal) / 0.8), rgba(var(--shm-cream) / 0.8));
      border-color: light-dark(rgba(var(--shm-white) / 0.5), rgba(var(--shm-warm-gray) / 0.5));

      &:hover {
        color: light-dark(rgba(var(--shm-charcoal) / 0.8), rgba(var(--shm-cream) / 0.8));
        background-color: light-dark(rgba(var(--shm-white) / 0.9), rgba(var(--shm-purple) / 0.8));
        border-color: light-dark(rgba(var(--shm-white) / 0.7), rgba(var(--shm-warm-gray) / 0.7));
      }
    }

    /*  States  */
    &:hover,
    &.active,
    &[keep-hover]:has(+ :hover) {
      color: light-dark(rgba(var(--shm-ivory) / 1), rgba(var(--shm-ivory) / 1));
      background-color: light-dark(rgba(var(--shm-orange) / 1), rgba(var(--shm-orange) / 1));
      border-color: light-dark(rgba(var(--shm-cream) / 1), rgba(var(--shm-cream) / 1));
    }

    &:active {
      outline: thin solid light-dark(rgba(var(--shm-orange) / 1), rgba(var(--shm-orange) / 1));
      box-shadow: 0 0 4px light-dark(rgba(var(--shm-orange) / 1), rgba(var(--shm-orange) / 1));
    }
  }

  /* -------------------------------------------- */
  /*  Menu
  /* -------------------------------------------- */

  .shm menu,
  menu.shm {
    /*  Reset CSS  */
    all: unset;
    box-sizing: border-box;
    padding: 0;
    margin: 0;
    list-style: none;

    /*  Actual properties  */
    display: block flex;
    flex-flow: column nowrap;

    flex: 0 0 auto;

    border: 1px solid light-dark(rgba(var(--shm-gray) / 1), rgba(var(--shm-warm-gray) / 1));

    transition: opacity 0.5s ease;

    /*  List  */
    li {
      /*  Reset CSS  */
      all: unset;
      margin: 0;
      list-style: none;

      /*  Actual properties  */
      cursor: default;
      user-select: none;

      position: relative;
      display: block flex;
      align-items: center;

      flex: 0 0 auto;

      gap: 0.5rem;
      padding: 2px 0.5rem;

      font-family: var(--font-sans);
      font-size: var(--font-size-14);
      white-space: nowrap;

      color: light-dark(rgba(var(--shm-charcoal) / 1), rgba(var(--shm-cream) / 1));
      background-color: light-dark(rgba(var(--shm-white) / 0.6), rgba(var(--shm-purple) / 0.5));

      transition:
        color 0.25s ease,
        background-color 0.25s ease;

      /*  Variants  */
      &:not([role="button"])::after {
        content: "\f0da";
        font-family: var(--font-awesome);
        margin-left: auto;
      }

      &[role="button"] {
        cursor: var(--cursor-pointer);
      }

      /*  States  */
      &:hover,
      &:has(+ menu:hover) {
        background-color: light-dark(rgba(var(--shm-white) / 0.8), rgba(var(--shm-purple) / 0.7));
      }

      &.active {
        color: light-dark(rgba(var(--shm-ivory) / 1), rgba(var(--shm-ivory) / 1));
        background-color: light-dark(rgba(var(--shm-orange) / 1), rgba(var(--shm-orange) / 1));
      }

      /*  Submenu handling  */
      &:hover > menu,
      > menu:hover {
        opacity: 1;
        visibility: visible;
        pointer-events: auto;
      }

      > menu {
        position: absolute;
        top: -1px;
        left: 100%;

        visibility: hidden;
        pointer-events: none;
        opacity: 0;
      }
    }
  }

  /* -------------------------------------------- */
  /*  Pip
  /* -------------------------------------------- */

  .shm i.pip,
  i.pip.shm {
    /*  CSS variables  */
    --pip-size: 0.5rem;

    /*  Reset CSS  */
    all: unset;
    box-sizing: border-box;

    /*  Actual properties  */
    display: inline flex;

    flex: 0 0 var(--pip-size);
    height: var(--pip-size);

    margin: 2px;

    background: var(--pip-color);
    box-shadow: 0 0 2px rgba(var(--shm-charcoal) / 1);
    border-radius: 100%;

    /*  Variants  */
    &.square {
      --pip-size: 0.75rem;
      border-radius: 2px;
    }

    &.padded {
      margin-right: 0.5rem;
    }
  }

  /* -------------------------------------------- */
  /*  Badge
  /* -------------------------------------------- */

  .shm .badge,
  .badge.shm {
    /*  CSS variables  */
    --shm-badge-size: 1.5rem;

    /*  Actual properties  */
    cursor: default;

    display: inline flex;
    flex: 1;
    height: var(--shm-badge-size);
    padding: 0 0.25rem;
    align-items: center;

    font-size: var(--font-size-12);
    line-height: normal;
    white-space: nowrap;

    color: light-dark(rgba(var(--shm-charcoal) / 0.8), rgba(var(--shm-cream) / 0.8));
    background-color: light-dark(rgba(var(--shm-white) / 0.6), rgba(var(--shm-purple) / 0.5));
    border: 1px solid light-dark(rgba(var(--shm-white) / 0.5), rgba(var(--shm-warm-gray) / 0.5));
    border-radius: 3px;

    /*  Variants  */
    &.padded {
      padding: 0 0.5rem;
    }
  }
}
